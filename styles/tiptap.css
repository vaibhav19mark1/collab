.tiptap {
  @apply text-base leading-relaxed text-foreground outline-none;
}

.tiptap:focus {
  outline: none;
}

/* -----------------------------------------
   HEADINGS
----------------------------------------- */

.tiptap h1 {
  @apply text-4xl font-bold mt-8 mb-4 text-foreground;
}
.tiptap h2 {
  @apply text-3xl font-semibold mt-6 mb-3 text-foreground;
}
.tiptap h3 {
  @apply text-2xl font-semibold mt-5 mb-2 text-foreground;
}
.tiptap h4 {
  @apply text-xl font-medium mt-4 mb-2 text-foreground;
}
.tiptap h5 {
  @apply text-lg font-medium mt-3 mb-1 text-muted-foreground;
}
.tiptap h6 {
  @apply text-base font-medium mt-2 mb-1 text-muted-foreground;
}

/* -----------------------------------------
   PARAGRAPH
----------------------------------------- */

.tiptap p {
  @apply my-3 text-foreground;
}

/* -----------------------------------------
   LINKS
----------------------------------------- */

.tiptap a {
  @apply text-primary underline decoration-primary hover:text-primary/80;
}

/* -----------------------------------------
   INLINE FORMATS
----------------------------------------- */

.tiptap strong {
  @apply font-semibold text-foreground;
}

.tiptap em {
  @apply italic;
}

.tiptap s {
  @apply line-through text-muted-foreground;
}

.tiptap code {
  @apply bg-muted px-1.5 py-0.5 rounded-md text-sm font-mono text-foreground border border-border;
}

/* -----------------------------------------
   BLOCKQUOTE
----------------------------------------- */

.tiptap blockquote {
  @apply border-l-4 border-border pl-4 italic text-muted-foreground my-4;
}

/* -----------------------------------------
   HORIZONTAL RULE
----------------------------------------- */

.tiptap hr {
  @apply border-border my-6;
}

/* -----------------------------------------
   BULLET LIST
----------------------------------------- */

.tiptap ul {
  @apply list-disc ml-6 my-2;
}

.tiptap ul li {
  @apply my-1 text-foreground;
}

/* -----------------------------------------
   ORDERED LIST
----------------------------------------- */

.tiptap ol {
  @apply list-decimal ml-6 my-2;
}

.tiptap ol li {
  @apply my-1 text-foreground;
}

/* -----------------------------------------
   TASK LIST / CHECKLIST
----------------------------------------- */

.tiptap ul[data-type="taskList"] {
  @apply list-none p-0;
}

.tiptap ul[data-type="taskList"] li {
  @apply flex items-start gap-2;
}

.tiptap ul[data-type="taskList"] input[type="checkbox"] {
  @apply mt-1 w-4 h-4 rounded border-input bg-background text-primary focus:ring-ring;
}

/* -----------------------------------------
   CODE BLOCK (Light + Dark)
----------------------------------------- */

.tiptap pre {
  @apply p-4 rounded-lg overflow-x-auto my-4 font-mono text-sm border;
  @apply bg-muted/50 border-border text-foreground;
}

.tiptap pre code {
  @apply bg-transparent p-0 text-inherit border-none;
}

/* Highlight.js style classes */
.tiptap pre code .hljs-keyword {
  @apply text-primary font-bold;
}
.tiptap pre code .hljs-string {
  @apply text-green-600 dark:text-green-400;
}
.tiptap pre code .hljs-number {
  @apply text-blue-600 dark:text-blue-400;
}
.tiptap pre code .hljs-comment {
  @apply text-muted-foreground italic;
}

/* -----------------------------------------
   TABLES
----------------------------------------- */

.tiptap table {
  @apply border-collapse w-full my-4;
}

.tiptap table th,
.tiptap table td {
  @apply border border-border p-2;
}

.tiptap table th {
  @apply bg-muted font-semibold text-foreground;
}

.tiptap table tr:nth-child(even) {
  @apply bg-muted/30;
}

/* -----------------------------------------
   IMAGES
----------------------------------------- */

.tiptap img {
  @apply max-w-full h-auto my-4 rounded-lg shadow-sm;
}

/* -----------------------------------------
   GAPCURSOR
----------------------------------------- */

.tiptap .ProseMirror-gapcursor {
  @apply border-l border-primary;
}

/* -----------------------------------------
   SELECTION
----------------------------------------- */

.tiptap ::selection {
  @apply bg-primary/20;
}

/* -----------------------------------------
   COLLABORATION CURSOR (Remote User)
----------------------------------------- */

/* Tiptap Placeholder */
.tiptap p.is-editor-empty:first-child::before {
  color: var(--muted-foreground);
  content: attr(data-placeholder);
  float: left;
  height: 0;
  pointer-events: none;
}

/* Collaboration Cursor Styles */
.collaboration-cursor__caret {
  position: relative;
  margin-left: -1px;
  margin-right: -1px;
  border-left: 1px solid;
  border-right: 1px solid;
  word-break: normal;
  pointer-events: none;
  height: 1em;
  display: inline-block;
  background-color: var(--color);
}

.collaboration-cursor__label {
  position: absolute;
  top: -1.4em;
  left: -1px;
  font-size: 12px;
  font-style: normal;
  font-weight: 600;
  line-height: normal;
  user-select: none;
  color: #fff;
  padding: 2px 6px;
  border-radius: 3px;
  white-space: nowrap;
  max-width: 150px;
  overflow: hidden;
  text-overflow: ellipsis;
  pointer-events: none;
  background-color: var(--color);
}

/* -----------------------------------------
   EDITOR WRAPPER CONTAINER
----------------------------------------- */

.editor-container {
  @apply bg-background border border-border rounded-lg shadow-sm p-6 overflow-auto;
}
